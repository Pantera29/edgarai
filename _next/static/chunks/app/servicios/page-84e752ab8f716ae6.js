(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6672],{13383:function(e,r,i){Promise.resolve().then(i.bind(i,6350))},6350:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return h}});var t=i(57437),s=i(2265),a=i(62869),n=i(95186),o=i(73578),c=i(26110),d=i(26815),l=i(2141),u=i(77992),m=i(849),p=i(84190),f=i(56266);function h(){let{toast:e}=(0,u.pm)(),[r,i]=(0,s.useState)([]),[h,x]=(0,s.useState)(!1),[v,g]=(0,s.useState)(!1),[j,N]=(0,s.useState)({nombre:"",descripcion:"",duracion_estimada:0,precio:0}),[b,y]=(0,s.useState)(null),[w,_]=(0,s.useState)(!1);async function C(){let{data:r,error:t}=await l.O.from("servicios").select("*").order("nombre");if(t){e({variant:"destructive",title:"Error",description:"No se pudieron cargar los servicios"});return}i(r)}(0,s.useEffect)(()=>{C()},[]);let R=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e),S=async t=>{if(t.preventDefault(),!j.nombre.trim()){e({variant:"destructive",title:"Error de validaci\xf3n",description:"El nombre es obligatorio"});return}if(j.duracion_estimada<=0){e({variant:"destructive",title:"Error de validaci\xf3n",description:"La duraci\xf3n debe ser mayor a 0 minutos"});return}if(j.precio<0){e({variant:"destructive",title:"Error de validaci\xf3n",description:"El precio no puede ser negativo"});return}g(!0);try{let{data:t,error:s}=await l.O.from("servicios").insert([{nombre:j.nombre,descripcion:j.descripcion,duracion_estimada:j.duracion_estimada,precio:j.precio}]).select();if(s)throw s;t&&(e({title:"Servicio guardado",description:"El servicio se ha registrado correctamente"}),i([...r,t[0]]),x(!1),N({nombre:"",descripcion:"",duracion_estimada:0,precio:0}))}catch(r){e({variant:"destructive",title:"Error",description:"Hubo un problema al guardar el servicio"})}finally{g(!1)}},E=async t=>{if(t.preventDefault(),!b.nombre.trim()){e({variant:"destructive",title:"Error de validaci\xf3n",description:"El nombre es obligatorio"});return}if(b.duracion_estimada<=0){e({variant:"destructive",title:"Error de validaci\xf3n",description:"La duraci\xf3n debe ser mayor a 0 minutos"});return}if(b.precio<0){e({variant:"destructive",title:"Error de validaci\xf3n",description:"El precio no puede ser negativo"});return}if(window.confirm("\xbfEst\xe1 seguro de guardar los cambios?")){g(!0);try{let{data:t,error:s}=await l.O.from("servicios").update({nombre:b.nombre,descripcion:b.descripcion,duracion_estimada:b.duracion_estimada,precio:b.precio}).eq("id",b.id).select();if(s)throw s;t&&(e({title:"Servicio actualizado",description:"Los cambios se han guardado correctamente"}),i(r.map(e=>e.id===b.id?t[0]:e)),_(!1),y(null))}catch(r){e({variant:"destructive",title:"Error",description:"Hubo un problema al actualizar el servicio"})}finally{g(!1)}}};return(0,t.jsxs)("div",{className:"container mx-auto py-10",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Servicios"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)(n.I,{placeholder:"Buscar servicios...",className:"max-w-sm"}),(0,t.jsx)(a.z,{onClick:()=>x(!0),children:"A\xf1adir Nuevo Servicio"})]}),(0,t.jsxs)(o.iA,{children:[(0,t.jsx)(o.xD,{children:(0,t.jsxs)(o.SC,{children:[(0,t.jsx)(o.ss,{children:"Nombre"}),(0,t.jsx)(o.ss,{children:"Descripci\xf3n"}),(0,t.jsx)(o.ss,{children:"Duraci\xf3n (min)"}),(0,t.jsx)(o.ss,{children:"Precio"}),(0,t.jsx)(o.ss,{className:"text-right",children:"Acciones"})]})}),(0,t.jsx)(o.RM,{children:r.map(e=>(0,t.jsxs)(o.SC,{children:[(0,t.jsx)(o.pj,{className:"font-medium",children:e.nombre}),(0,t.jsx)(o.pj,{children:e.descripcion}),(0,t.jsxs)(o.pj,{children:[e.duracion_estimada," min"]}),(0,t.jsx)(o.pj,{children:R(e.precio)}),(0,t.jsx)(o.pj,{className:"text-right",children:(0,t.jsxs)(p.h_,{children:[(0,t.jsx)(p.$F,{asChild:!0,children:(0,t.jsxs)(a.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"Abrir men\xfa"}),(0,t.jsx)(f.Z,{className:"h-4 w-4"})]})}),(0,t.jsxs)(p.AW,{align:"end",children:[(0,t.jsx)(p.Ju,{children:"Acciones"}),(0,t.jsx)(p.Xi,{onClick:()=>{y(e),_(!0)},children:"Editar servicio"})]})]})})]},e.id))})]}),(0,t.jsx)(c.Vq,{open:h,onOpenChange:x,children:(0,t.jsxs)(c.cZ,{children:[(0,t.jsxs)(c.fK,{children:[(0,t.jsx)(c.$N,{children:"A\xf1adir Nuevo Servicio"}),(0,t.jsx)(c.Be,{children:"Complete los datos del nuevo servicio. Los campos marcados con * son obligatorios."})]}),(0,t.jsxs)("form",{onSubmit:S,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"nombre",className:"text-right",children:"Nombre *"}),(0,t.jsx)(n.I,{id:"nombre",className:"col-span-3",value:j.nombre,onChange:e=>N({...j,nombre:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"descripcion",className:"text-right",children:"Descripci\xf3n"}),(0,t.jsx)(n.I,{id:"descripcion",className:"col-span-3",value:j.descripcion,onChange:e=>N({...j,descripcion:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"duracion",className:"text-right",children:"Duraci\xf3n (min) *"}),(0,t.jsx)(n.I,{id:"duracion",type:"number",min:"1",className:"col-span-3",value:j.duracion_estimada,onChange:e=>N({...j,duracion_estimada:Number(e.target.value)}),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"precio",className:"text-right",children:"Precio *"}),(0,t.jsx)(n.I,{id:"precio",type:"number",min:"0",step:"0.01",className:"col-span-3",value:j.precio,onChange:e=>N({...j,precio:Number(e.target.value)}),required:!0})]})]}),(0,t.jsx)(c.cN,{children:(0,t.jsx)(a.z,{type:"submit",disabled:v,children:v?"Guardando...":"Guardar Servicio"})})]})]})}),(0,t.jsx)(c.Vq,{open:w,onOpenChange:_,children:(0,t.jsxs)(c.cZ,{children:[(0,t.jsxs)(c.fK,{children:[(0,t.jsx)(c.$N,{children:"Editar Servicio"}),(0,t.jsx)(c.Be,{children:"Modifique los datos del servicio."})]}),(0,t.jsxs)("form",{onSubmit:E,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"edit-nombre",className:"text-right",children:"Nombre *"}),(0,t.jsx)(n.I,{id:"edit-nombre",className:"col-span-3",value:null==b?void 0:b.nombre,onChange:e=>y(r=>r?{...r,nombre:e.target.value}:r),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"edit-descripcion",className:"text-right",children:"Descripci\xf3n"}),(0,t.jsx)(n.I,{id:"edit-descripcion",className:"col-span-3",value:null==b?void 0:b.descripcion,onChange:e=>y(r=>r?{...r,descripcion:e.target.value}:r)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"edit-duracion",className:"text-right",children:"Duraci\xf3n (min) *"}),(0,t.jsx)(n.I,{id:"edit-duracion",type:"number",min:"1",className:"col-span-3",value:null==b?void 0:b.duracion_estimada,onChange:e=>y(r=>r?{...r,duracion_estimada:Number(e.target.value)}:r),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d._,{htmlFor:"edit-precio",className:"text-right",children:"Precio *"}),(0,t.jsx)(n.I,{id:"edit-precio",type:"number",min:"0",step:"0.01",className:"col-span-3",value:null==b?void 0:b.precio,onChange:e=>y(r=>r?{...r,precio:Number(e.target.value)}:r),required:!0})]})]}),(0,t.jsx)(c.cN,{children:(0,t.jsx)(a.z,{type:"submit",disabled:v,children:v?"Guardando...":"Guardar Cambios"})})]})]})}),(0,t.jsx)(m.x,{})]})}},84190:function(e,r,i){"use strict";i.d(r,{$F:function(){return u},AW:function(){return m},Ju:function(){return f},VD:function(){return h},Xi:function(){return p},h_:function(){return l}});var t=i(57437),s=i(2265),a=i(70085),n=i(10407),o=i(30401),c=i(40519),d=i(94508);let l=a.fC,u=a.xz;a.ZA,a.Uv,a.Tr,a.Ee,s.forwardRef((e,r)=>{let{className:i,inset:s,children:o,...c}=e;return(0,t.jsxs)(a.fF,{ref:r,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",i),...c,children:[o,(0,t.jsx)(n.Z,{className:"ml-auto"})]})}).displayName=a.fF.displayName,s.forwardRef((e,r)=>{let{className:i,...s}=e;return(0,t.jsx)(a.tu,{ref:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...s})}).displayName=a.tu.displayName;let m=s.forwardRef((e,r)=>{let{className:i,sideOffset:s=4,...n}=e;return(0,t.jsx)(a.Uv,{children:(0,t.jsx)(a.VY,{ref:r,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...n})})});m.displayName=a.VY.displayName;let p=s.forwardRef((e,r)=>{let{className:i,inset:s,...n}=e;return(0,t.jsx)(a.ck,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",i),...n})});p.displayName=a.ck.displayName,s.forwardRef((e,r)=>{let{className:i,children:s,checked:n,...c}=e;return(0,t.jsxs)(a.oC,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),checked:n,...c,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(a.wU,{children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),s]})}).displayName=a.oC.displayName,s.forwardRef((e,r)=>{let{className:i,children:s,...n}=e;return(0,t.jsxs)(a.Rk,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(a.wU,{children:(0,t.jsx)(c.Z,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=a.Rk.displayName;let f=s.forwardRef((e,r)=>{let{className:i,inset:s,...n}=e;return(0,t.jsx)(a.__,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",i),...n})});f.displayName=a.__.displayName;let h=s.forwardRef((e,r)=>{let{className:i,...s}=e;return(0,t.jsx)(a.Z0,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",i),...s})});h.displayName=a.Z0.displayName},26815:function(e,r,i){"use strict";i.d(r,{_:function(){return o}});var t=i(57437),s=i(2265),a=i(6394),n=i(94508);let o=s.forwardRef((e,r)=>{let{className:i,...s}=e;return(0,t.jsx)(a.f,{ref:r,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i),...s})});o.displayName=a.f.displayName},30401:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});let t=(0,i(39763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},10407:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});let t=(0,i(39763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},56266:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});let t=(0,i(39763).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},67822:function(e,r,i){"use strict";i.d(r,{B:function(){return c}});var t=i(2265),s=i(73966),a=i(98575),n=i(37053),o=i(57437);function c(e){let r=e+"CollectionProvider",[i,c]=(0,s.b)(r),[d,l]=i(r,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:r,children:i}=e,s=t.useRef(null),a=t.useRef(new Map).current;return(0,o.jsx)(d,{scope:r,itemMap:a,collectionRef:s,children:i})};u.displayName=r;let m=e+"CollectionSlot",p=t.forwardRef((e,r)=>{let{scope:i,children:t}=e,s=l(m,i),c=(0,a.e)(r,s.collectionRef);return(0,o.jsx)(n.g7,{ref:c,children:t})});p.displayName=m;let f=e+"CollectionItemSlot",h="data-radix-collection-item",x=t.forwardRef((e,r)=>{let{scope:i,children:s,...c}=e,d=t.useRef(null),u=(0,a.e)(r,d),m=l(f,i);return t.useEffect(()=>(m.itemMap.set(d,{ref:d,...c}),()=>void m.itemMap.delete(d))),(0,o.jsx)(n.g7,{[h]:"",ref:u,children:s})});return x.displayName=f,[{Provider:u,Slot:p,ItemSlot:x},function(r){let i=l(e+"CollectionConsumer",r);return t.useCallback(()=>{let e=i.collectionRef.current;if(!e)return[];let r=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(i.itemMap.values()).sort((e,i)=>r.indexOf(e.ref.current)-r.indexOf(i.ref.current))},[i.collectionRef,i.itemMap])},c]}},29114:function(e,r,i){"use strict";i.d(r,{gm:function(){return a}});var t=i(2265);i(57437);var s=t.createContext(void 0);function a(e){let r=t.useContext(s);return e||r||"ltr"}},6394:function(e,r,i){"use strict";i.d(r,{f:function(){return o}});var t=i(2265),s=i(66840),a=i(57437),n=t.forwardRef((e,r)=>(0,a.jsx)(s.WV.label,{...e,ref:r,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||(null===(i=e.onMouseDown)||void 0===i||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var o=n},95098:function(e,r,i){"use strict";i.d(r,{T:function(){return n},f:function(){return o}});var t=i(2265),s=i(66840),a=i(57437),n=t.forwardRef((e,r)=>(0,a.jsx)(s.WV.span,{...e,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));n.displayName="VisuallyHidden";var o=n}},function(e){e.O(0,[9903,8325,4384,6008,8001,4116,1218,1915,2722,2971,2117,1744],function(){return e(e.s=13383)}),_N_E=e.O()}]);