(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1956],{57945:function(e,r,t){Promise.resolve().then(t.bind(t,90974))},90974:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var n=t(57437),a=t(2265),i=t(66070),s=t(95452),o=t(95186),l=t(26815),c=t(62869),u=t(1828),d=t(91723),f=t(14438),m=t(94508);let p=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"];function h(){let[e,r]=(0,a.useState)(null),[t,h]=(0,a.useState)([]),[v,b]=(0,a.useState)(!0),[x,g]=(0,a.useState)(!1),y=(0,s.createClientComponentClient)();(0,a.useEffect)(()=>{w()},[]);let w=async()=>{b(!0);try{let{data:e}=await y.from("configuracion_taller").select("*").limit(1).single();e&&r(e);let{data:t}=await y.from("horarios_operacion").select("*").order("dia_semana");if(t&&t.length>0)h(t);else{let r=p.map((r,t)=>({id_horario:crypto.randomUUID(),id_taller:(null==e?void 0:e.id_taller)||crypto.randomUUID(),dia_semana:t+1,es_dia_laboral:0!==t,hora_apertura:"09:00:00",hora_cierre:"18:00:00",servicios_simultaneos_max:3}));h(r)}}catch(e){console.error("Error al cargar datos:",e),f.Am.error("Error al cargar la configuraci\xf3n")}finally{b(!1)}},j=async()=>{try{let{error:r}=await y.from("configuracion_taller").upsert({...e,actualizado_el:new Date().toISOString()});if(r)throw r;let{error:n}=await y.from("horarios_operacion").upsert(t);if(n)throw n;g(!1),f.Am.success("Configuraci\xf3n guardada correctamente"),await w()}catch(e){console.error("Error al guardar:",e),f.Am.error("Error al guardar la configuraci\xf3n")}},N=(e,r)=>{h(t=>t.map(t=>t.dia_semana===e+1?{...t,...r}:t))};return v?(0,n.jsx)("div",{className:"text-center py-4",children:"Cargando configuraci\xf3n..."}):(0,n.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Configuraci\xf3n del Taller"}),!x&&(0,n.jsx)(c.z,{onClick:()=>g(!0),children:"Modificar Configuraci\xf3n"})]}),(0,n.jsxs)("div",{className:"grid gap-6",children:[(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsx)(i.ll,{children:"Par\xe1metros Generales"})}),(0,n.jsx)(i.aY,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l._,{children:"Duraci\xf3n del Turno (minutos)"}),(0,n.jsx)(o.I,{type:"number",min:"15",max:"60",step:"5",value:(null==e?void 0:e.duracion_turno)||30,onChange:e=>r(r=>({...r,duracion_turno:parseInt(e.target.value)})),disabled:!x,className:"max-w-[200px]"})]})})]}),(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsx)(i.ll,{children:"Horarios de Operaci\xf3n"})}),(0,n.jsx)(i.aY,{className:"space-y-4",children:p.map((e,r)=>{let a=t.find(e=>e.dia_semana===r+1);return a?(0,n.jsx)("div",{className:(0,m.cn)("p-4 border rounded-lg",a.es_dia_laboral?"bg-card":"bg-muted"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(u.r,{checked:a.es_dia_laboral,onCheckedChange:e=>N(r,{es_dia_laboral:e}),disabled:!x}),(0,n.jsx)(l._,{children:e})]}),a.es_dia_laboral&&(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),(0,n.jsx)(o.I,{type:"time",value:a.hora_apertura.slice(0,5),onChange:e=>N(r,{hora_apertura:e.target.value+":00"}),disabled:!x,className:"w-32"}),(0,n.jsx)("span",{children:"-"}),(0,n.jsx)(o.I,{type:"time",value:a.hora_cierre.slice(0,5),onChange:e=>N(r,{hora_cierre:e.target.value+":00"}),disabled:!x,className:"w-32"})]}),(0,n.jsx)(o.I,{type:"number",min:"1",max:"10",value:a.servicios_simultaneos_max,onChange:e=>N(r,{servicios_simultaneos_max:parseInt(e.target.value)}),disabled:!x,className:"w-24"})]})]})},r):null})})]}),x&&(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)(c.z,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),(0,n.jsx)(c.z,{onClick:j,children:"Guardar Cambios"})]})]})]})}},62869:function(e,r,t){"use strict";t.d(r,{d:function(){return l},z:function(){return c}});var n=t(57437),a=t(2265),i=t(37053),s=t(90535),o=t(94508);let l=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:s,asChild:c=!1,...u}=e,d=c?i.g7:"button";return(0,n.jsx)(d,{className:(0,o.cn)(l({variant:a,size:s,className:t})),ref:r,...u})});c.displayName="Button"},66070:function(e,r,t){"use strict";t.d(r,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return s},aY:function(){return u},ll:function(){return l}});var n=t(57437),a=t(2265),i=t(94508);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});s.displayName="Card";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,i.cn)("font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...a})});u.displayName="CardContent"},95186:function(e,r,t){"use strict";t.d(r,{I:function(){return s}});var n=t(57437),a=t(2265),i=t(94508);let s=a.forwardRef((e,r)=>{let{className:t,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,i.cn)("flex h-9 w-full rounded-md border border-slate-200 bg-white px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:r,...s})});s.displayName="Input"},26815:function(e,r,t){"use strict";t.d(r,{_:function(){return o}});var n=t(57437),a=t(2265),i=t(6394),s=t(94508);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(i.f,{ref:r,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...a})});o.displayName=i.f.displayName},1828:function(e,r,t){"use strict";t.d(r,{r:function(){return i}});var n=t(57437);t(2265);var a=t(50721);function i(e){let{checked:r,onCheckedChange:t,disabled:i}=e;return(0,n.jsx)(a.fC,{checked:r,onCheckedChange:t,disabled:i,className:"peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",children:(0,n.jsx)(a.bU,{className:"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"})})}},94508:function(e,r,t){"use strict";t.d(r,{S:function(){return s},cn:function(){return i}});var n=t(61994),a=t(53335);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,n.W)(r))}function s(){return"/edgarai"}},39763:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(e,r)=>{let t=(0,n.forwardRef)((t,s)=>{let{color:o="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:d="",children:f,...m}=t;return(0,n.createElement)("svg",{ref:s,...a,width:l,height:l,stroke:o,strokeWidth:u?24*Number(c)/Number(l):c,className:["lucide","lucide-".concat(i(e)),d].join(" "),...m},[...r.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(f)?f:[f]])});return t.displayName="".concat(e),t}},91723:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(39763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6741:function(e,r,t){"use strict";function n(e,r,{checkForDefaultPrevented:t=!0}={}){return function(n){if(e?.(n),!1===t||!n.defaultPrevented)return r?.(n)}}t.d(r,{M:function(){return n}})},73966:function(e,r,t){"use strict";t.d(r,{b:function(){return s},k:function(){return i}});var n=t(2265),a=t(57437);function i(e,r){let t=n.createContext(r),i=e=>{let{children:r,...i}=e,s=n.useMemo(()=>i,Object.values(i));return(0,a.jsx)(t.Provider,{value:s,children:r})};return i.displayName=e+"Provider",[i,function(a){let i=n.useContext(t);if(i)return i;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function s(e,r=[]){let t=[],i=()=>{let r=t.map(e=>n.createContext(e));return function(t){let a=t?.[e]||r;return n.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(r,i){let s=n.createContext(i),o=t.length;t=[...t,i];let l=r=>{let{scope:t,children:i,...l}=r,c=t?.[e]?.[o]||s,u=n.useMemo(()=>l,Object.values(l));return(0,a.jsx)(c.Provider,{value:u,children:i})};return l.displayName=r+"Provider",[l,function(t,a){let l=a?.[e]?.[o]||s,c=n.useContext(l);if(c)return c;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:n})=>{let a=t(e)[`__scope${n}`];return{...r,...a}},{});return n.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(i,...r)]}},6394:function(e,r,t){"use strict";t.d(r,{f:function(){return o}});var n=t(2265),a=t(66840),i=t(57437),s=n.forwardRef((e,r)=>(0,i.jsx)(a.WV.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s.displayName="Label";var o=s},50721:function(e,r,t){"use strict";t.d(r,{bU:function(){return N},fC:function(){return j}});var n=t(2265),a=t(6741),i=t(98575),s=t(73966),o=t(80886),l=t(6718),c=t(90420),u=t(66840),d=t(57437),f="Switch",[m,p]=(0,s.b)(f),[h,v]=m(f),b=n.forwardRef((e,r)=>{let{__scopeSwitch:t,name:s,checked:l,defaultChecked:c,required:f,disabled:m,value:p="on",onCheckedChange:v,form:b,...x}=e,[g,j]=n.useState(null),N=(0,i.e)(r,e=>j(e)),_=n.useRef(!1),k=!g||b||!!g.closest("form"),[C=!1,E]=(0,o.T)({prop:l,defaultProp:c,onChange:v});return(0,d.jsxs)(h,{scope:t,checked:C,disabled:m,children:[(0,d.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":f,"data-state":w(C),"data-disabled":m?"":void 0,disabled:m,value:p,...x,ref:N,onClick:(0,a.M)(e.onClick,e=>{E(e=>!e),k&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),k&&(0,d.jsx)(y,{control:g,bubbles:!_.current,name:s,value:p,checked:C,required:f,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});b.displayName=f;var x="SwitchThumb",g=n.forwardRef((e,r)=>{let{__scopeSwitch:t,...n}=e,a=v(x,t);return(0,d.jsx)(u.WV.span,{"data-state":w(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r})});g.displayName=x;var y=e=>{let{control:r,checked:t,bubbles:a=!0,...i}=e,s=n.useRef(null),o=(0,l.D)(t),u=(0,c.t)(r);return n.useEffect(()=>{let e=s.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&r){let n=new Event("click",{bubbles:a});r.call(e,t),e.dispatchEvent(n)}},[o,t,a]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var j=b,N=g},26606:function(e,r,t){"use strict";t.d(r,{W:function(){return a}});var n=t(2265);function a(e){let r=n.useRef(e);return n.useEffect(()=>{r.current=e}),n.useMemo(()=>(...e)=>r.current?.(...e),[])}},80886:function(e,r,t){"use strict";t.d(r,{T:function(){return i}});var n=t(2265),a=t(26606);function i({prop:e,defaultProp:r,onChange:t=()=>{}}){let[i,s]=function({defaultProp:e,onChange:r}){let t=n.useState(e),[i]=t,s=n.useRef(i),o=(0,a.W)(r);return n.useEffect(()=>{s.current!==i&&(o(i),s.current=i)},[i,s,o]),t}({defaultProp:r,onChange:t}),o=void 0!==e,l=o?e:i,c=(0,a.W)(t);return[l,n.useCallback(r=>{if(o){let t="function"==typeof r?r(e):r;t!==e&&c(t)}else s(r)},[o,e,s,c])]}},61188:function(e,r,t){"use strict";t.d(r,{b:function(){return a}});var n=t(2265),a=globalThis?.document?n.useLayoutEffect:()=>{}},6718:function(e,r,t){"use strict";t.d(r,{D:function(){return a}});var n=t(2265);function a(e){let r=n.useRef({value:e,previous:e});return n.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},90420:function(e,r,t){"use strict";t.d(r,{t:function(){return i}});var n=t(2265),a=t(61188);function i(e){let[r,t]=n.useState(void 0);return(0,a.b)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let n,a;if(!Array.isArray(r)||!r.length)return;let i=r[0];if("borderBoxSize"in i){let e=i.borderBoxSize,r=Array.isArray(e)?e[0]:e;n=r.inlineSize,a=r.blockSize}else n=e.offsetWidth,a=e.offsetHeight;t({width:n,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}}},function(e){e.O(0,[9903,8325,5452,4438,2971,2117,1744],function(){return e(e.s=57945)}),_N_E=e.O()}]);